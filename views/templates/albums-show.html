<div class="container" ng-controller="AlbumsShowController as albumsShowCtrl">
<h1>This is the albums show page</h1>
  <div class="panel panel-default">
    <div class="panel-heading">
      <h2 class="heading">{{albumsShowCtrl.album.name}}</h2>
      <p class="heading">By: {{albumsShowCtrl.album.artistName}}</p>
    </div>
    <div class="panel-body">
      <div class="grey"></div>
      <form ng-submit="albumsShowCtrl.createSong(albumsShowCtrl.album)">
        <div class="form-group">
          <label for="songName">Add Song Name</label>
          <input type="text" class="form-control" id="newSongName"  ng-model="albumsShowCtrl.newSong.name" placeholder="Name of the Song">
        </div>
        <div class="form-group">
          <label for="trackNumber">Track Number</label>
          <input type="text" class="form-control" id="newSongTrackNum" ng-model="albumsShowCtrl.newSong.trackNumber" placeholder="Track Number" value="">
        </div>
        <button type="submit" class="btn btn-default">+ Add a New Song</button>
      </form>
    </div>
    <h3>SONGS:</h3>
    <!-- Table -->
    <table class="table">
      <thead>
      <tr>
        <th>TrackNumber</th>
        <th>Song Name</th>
        <th>Edit</th>
        <th>Delete</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="song in albumsShowCtrl.album.songs | orderBy:'+trackNumber'">
        <th>{{song.trackNumber}}</th>
        <td>
          <p ng-hide="editing">{{song.name}}</p>
          <input ng-show="editing" ng-model="song.name" type="text" class="form-control input-md"></td>
        <td>
          <button class="btn btn-primary" ng-hide="editing" ng-click="editing = true"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>
          <button class='btn btn-success' ng-show="editing" ng-click="albumsShowCtrl.editSong(albumsShowCtrl.album, song); editing = false">Save Changes</button>
        </td>
        <td>
          <button class="btn btn-danger" ng-click="albumsShowCtrl.deleteSong(album, song)"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
        </td>
      </tr>
    </tbody>
    </table>
  </div>

</div>
